!function(e,i,n){"use strict";function r(e,n,r){s("grb:loadScript src - "+e);var t=i.createElement("script");t.type="text/javascript",t.src=e,t.onload=n,t.onerror=r,i.body.appendChild(t)}function s(e){console&&v&&console.log(e)}function t(){s("grb: Stomp loaded."),r(g,function(){s("grb: JQuery loaded."),r(m,function(){u.i.jqObj=jQuery.noConflict(!0),s("grb: BxSlider loaded.");var e=function(){var e=o("grb_ck@"+sumKey),i=o("grb_ck_time@"+sumKey);if(!e)return!0;if(!i)return!0;var n=(new Date).getTime()-i,r=n/1e3/60;if(isNaN(n))return!0;if(r>30)return!0;return!1}(),i=o("grb_id_permission@"+sumKey),n=o("grb_ip_permission@"+sumKey),t=o("grb_ck@"+sumKey);{if("fail"==i||"fail"==n)return void s("grb:Failed to auth. Because server authentication failed.");"success"==i&&(t=null)}u.i.serviceKey&&r(e?"//"+y+"/auth/"+u.i.serviceKey+"?deviceType="+l()+"&domain="+c()+"&callback="+f+"&visitor=ok&cookieId="+t+"&ipPermission="+n:"//"+y+"/auth/"+u.i.serviceKey+"?deviceType="+l()+"&domain="+c()+"&callback="+f+"&cookieId="+t+"&ipPermission="+n)},function(){u.i.jqObj=jQuery.noConflict(!0)})})}function o(e){for(var i=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var s=n[r];" "==s.charAt(0);)s=s.substring(1);if(0==s.indexOf(i)){var t=s.substring(i.length,s.length);return unescape(t)}}return""}function a(e,n,r){var s=new Date;r||(r=1),s.setHours(s.getHours()+r);var t=e+"="+escape(n)+"; path=/ ";t+=";expires="+s.toGMTString()+";",i.cookie=t}function c(){var e=location.href,i=e.indexOf("?"),n=e.split("/"),r=i>-1?e.substring(0,i):n.length>4?e.substring(0,e.indexOf(n[2])+n[2].length+n[3].length+2):e;return r.substring(r.indexOf("//")+2)}function l(){return navigator.userAgent.match(/Android|BlackBerry|Tablet|Mobile|iPhone|iPad|iPod|OperaMini|IEMobile/i)?(navigator.userAgent.match(/Tablet|iPad/i),"mobile"):"pcWeb"}var u=e.groobee;if(!0!==u.loadFlag){u.loadFlag=!0,u.isManualInit=!1,window.console=window.console||{log:function(){}};var d="a14600",g="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js",p="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.0.3/sockjs.min.js",b="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js",m="https://cdnjs.cloudflare.com/ajax/libs/bxslider/4.2.12/jquery.bxslider.min.js",f="grb_callback",v=!1,y="collect.groobee.io";e[f]=function(e){if("success"===e.resultCode)try{""==o("grb_id_permission@"+sumKey)&&a("grb_id_permission@"+sumKey,"success",1),""==o("grb_ip_permission@"+sumKey)&&a("grb_ip_permission@"+sumKey,"success",1),function(e){u.i.deviceType=e.deviceType,u.i.siteDomain=e.siteUrl,s("grb:runSuccessCallback data - "+JSON.stringify(e)),function(e,n,t,o){s("grb: start up.");var a=decodeURIComponent(t);t=JSON.parse(a.replace(/[â€‹+]/g," ")),u.isManualInit||function(e){if(i.createStyleSheet)i.createStyleSheet(e);else{var n=i.createElement("link");n.rel="stylesheet",n.type="text/css",n.href=e,i.getElementsByTagName("head")[0].appendChild(n)}}(t.cssUrl),u.i.siteOptions=n,u.i.widgetInfo=t,o?(u.i.envOptions=function(e,i){e=e||{};for(var n in i)e[n]=i[n];return e}(u.i.envOptions,o),u.isManualInit?u.initCore(u.i):r(e)):s("grb: envOptions is nothing.")}(e.scriptUrl,e.autoOptions,e.widgetInfo,e.envOptions)}(e)}catch(e){s("grb:callback: err - "+e.message)}else"closed"===e.resultCode?function(e,n,r){!function(e,n,r){var s=new Date;r||(r=1e4),s.setDate(s.getDate()+r);var t=e+"="+escape(n)+"; path=/ ";t+=";expires="+s.toGMTString()+";",i.cookie=t}(e+"@"+sumKey,n,r)}("grb_permission","F",7):(""==o("grb_id_permission@"+sumKey)&&a("grb_id_permission@"+sumKey,"fail",1),""==o("grb_ip_permission@"+sumKey)&&a("grb_ip_permission@"+sumKey,"fail",1),s("grb:Failed to auth. Because server authentication failed."))},window.addEventListener&&e.addEventListener("message",function(e){if(-1!=(e.origin||e.originalEvent.origin).indexOf("admin.groobee.io")){JSON.parse(e.data);s("grb: onMessage >> "+e.data)}},!1),u.start=function(){u.i.jqObj("#groobee-container").length>0&&u.i.jqObj("#groobee-container").remove(),u.isFirstPageLoad=!0,u.isManualInit=!0,u.i.serviceKey&&r("//"+y+"/auth/"+u.i.serviceKey+"?deviceType="+l()+"&domain="+c()+"&callback="+f+"&cookieId="+o("grb_ck@"+sumKey)+"&ipPermission="+o("grb_ip_permission@"+sumKey))},self!=top&&u("grbDisabled",!0),window.addEventListener&&e.addEventListener("load",function(){var i,n,a,c,l;for(u.i={},i=0;i<u.q.length;i++)if(a=u.q[i],c=a[0],2==a.length)u.i[c]=a[1];else if(a.length>2){for(l=[],n=1;j<a.length;n++)l.push(a[n]);u.i[c]=l}e.sumKey=function(e){for(var i=0,n=0,r=function(e,i,n){return Number("0x"+e.substring(i,i+n))},s=function(e){return e.toString(16).split("").reverse().join("").substring(0,4)},t=0;t<e.length;t+=4)t%8==0?i+=r(e,t,4):n+=r(e,t,4);return s(i)+s(n)}(u.i.serviceKey),o("grb_permission@"+sumKey)?console.log("This site is an unauthorized user."):(u.i.collectorUrl&&(y=u.i.collectorUrl),function(e){e&&(e.isDev&&(v=e.isDev),e.jquery&&(g=e.jquery),e.stomp&&(b=e.stomp),e.sockjs&&(p=e.sockjs))}(u.i.envOptions),s("grb: WebSocket loaded."),e.Stomp?t():r(b,t),u.ver||(u.ver=[]),u.ver.push(d))})}else console.log("groobee.js is already loaded !!")}(window,document);