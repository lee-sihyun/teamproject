<%@page import="java.text.DecimalFormat"%>
<%@page import="site.itwill.dao.ProductDAO"%>
<%@page import="site.itwill.dto.ProductDTO"%>
<%@page import="java.util.List"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%-- PRODUCT 테이블에 저장된 모든 제품정보를 검색하여 응답하는 JSP 문서 --%>
<%
	String maincategory = "3";
	String orderSort = "desc";
	//String maincategory = request.getParameter("maincategory");
	//String orderSort = request.getParameter("orderSort");
	List<ProductDTO> productList1=null;
	//PRODUCT 테이블에 저장된 모든 제품정보를 검색하여 반환하는 DAO 클래스의 메소드 호출
	String subcategory = request.getParameter("subcategory");
	if(subcategory==null || subcategory.equals("")){
		productList1=ProductDAO.getDAO().getProductList1(maincategory, orderSort);
	}else{
		productList1=ProductDAO.getDAO().getSubcategoryName(subcategory);
	}
	
	
	
	//subcategory에 저장된 물품갯수 반환하는 메소드
	int subcategory8 = ProductDAO.getDAO().getProductsubcategory(8);
	int subcategory9 = ProductDAO.getDAO().getProductsubcategory(9);
	int subcategory10 = ProductDAO.getDAO().getProductsubcategory(10);
	%>


<!DOCTYPE html>
<html lang="ko"><head>
    <title>러쉬코리아(LUSH KOREA)</title>
    <link rel="icon" href="http://www.lush.co.kr/data/common/favicon.ico" type="image/x-icon">
	<link rel="stylesheet" href="<%=request.getContextPath() %>/resources/boxslider.css">
    <link type="text/css" rel="stylesheet" href="<%=request.getContextPath() %>/resources/gd_reset.css">
    <link type="text/css" rel="stylesheet" href="<%=request.getContextPath() %>/resources/chosen.css">
    
    <link type="text/css" rel="stylesheet" href="<%=request.getContextPath() %>/resources/gd_common.css">
    <link type="text/css" rel="stylesheet" href="<%=request.getContextPath() %>/resources/gd_item-display.css">
    <link type="text/css" rel="stylesheet" href="<%=request.getContextPath() %>/resources/gd_goods-view.css">
    <link type="text/css" rel="stylesheet" href="<%=request.getContextPath() %>/resources/gd_contents.css">
    <link type="text/css" rel="stylesheet" href="<%=request.getContextPath() %>/resources/gd_share.css">
    <link type="text/css" rel="stylesheet" href="<%=request.getContextPath() %>/resources/gd_custom.css">
    <link href="<%=request.getContextPath() %>/resources/slider.css" rel="stylesheet">
    <!--[if lte ie 8]><link type="text/css" rel="stylesheet" href="/data/skin/front/howling/css/gd_old-ie.css?ts=1535722916" /><![endif]-->

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->


    <script src="<%=request.getContextPath() %>/resources/AceCounter_AW.js.다운로드"></script>
    <script src="<%=request.getContextPath() %>/resources/sa-w.js.다운로드"></script>
    <script src="<%=request.getContextPath() %>/resources/ac.js.다운로드"></script>
    <script type="text/javascript">
        var json_locale_data = {"domain":"messages","locale_data":{"messages":{"":{"lang":"ATF","plural-forms":"nplurals=1; plural=0"}}}}
    </script>
    <script type="text/javascript" src="<%=request.getContextPath() %>/resources/jquery.min.js.다운로드"></script>
    <script type="text/javascript" src="<%=request.getContextPath() %>/resources/underscore-min.js.다운로드"></script>
    <script type="text/javascript" src="<%=request.getContextPath() %>/resources/jquery.validate.min.js.다운로드"></script>
    <script type="text/javascript" src="<%=request.getContextPath() %>/resources/additional-methods.min.js.다운로드"></script>
    <script type="text/javascript" src="<%=request.getContextPath() %>/resources/numeral.min.js.다운로드"></script>
    <script type="text/javascript" src="<%=request.getContextPath() %>/resources/accounting.min.js.다운로드"></script>
    <script type="text/javascript" src="<%=request.getContextPath() %>/resources/money.min.js.다운로드"></script>
    <script type="text/javascript" src="<%=request.getContextPath() %>/resources/chosen.jquery.min.js.다운로드"></script>
    <script type="text/javascript" src="<%=request.getContextPath() %>/resources/placeholders.jquery.min.js.다운로드"></script>
    <!--[if gt IE 8]-->
    <script type="text/javascript" src="<%=request.getContextPath() %>/resources/clipboard.min.js.다운로드"></script>
    <!--[endif]-->
    <script type="text/javascript" src="<%=request.getContextPath() %>/resources/jquery.vticker.js.다운로드"></script>
    <script type="text/javascript" src="<%=request.getContextPath() %>/resources/gd_gettext.js.다운로드"></script>






	<!-- Add script : start -->
    <script type="text/javascript" src="<%=request.getContextPath() %>/resources/jquery.cookie.js.다운로드"></script>

    <!-- Add script : end -->
    

    <!--{ ? }-->

    <style type="text/css">
        body {
        }

        /* body > #wrap > #top : 상단 영역 */
        #top {
        }

        /* body > #wrap > #container : 메인 영역 */
        #container {
        }

        /* body > #wrap > #footer : 하단 영역 */
        #footer {
        }
    </style>
<!-- 테라스크립트 공통 상단 - 관리자 - 외부스크립트  -->
<!-- 상단 선언 스크립트 : 모든페이지 공통 상단 필수 -->

	<script type="text/javascript">
	        var _AceTM=(_AceTM||{});
	        function aceCounterWishGoods(goodsNo, goodsNm, goodsPrice, goodsImageSrc) {
	            _AceTM.Product={
	                pCode: ItemNo, //제품아이디(필수)
	                pName: Name, //제품이름(필수)
	                pPrice:Price, //판매가(필수)
	                pCategory:'', //제품 카테고리명(선택)
	                pImageURl:Image, //제품이미지url 주소(필수)
	                pLink:'http://www.lush.co.kr/goods/goods_view.php?goodsNo=' + ItemNo, //제품상세페이지 주소(선택)
	                oItem:[]
	            };
	            _AceTM.WishList(1);
	        }
	        </script>
    <!--
==============================
** 웹폰트
==============================
-->
<link href="<%=request.getContextPath() %>/resources/css" rel="stylesheet" type="text/css">
<link href="<%=request.getContextPath() %>/resources/nanumgothic.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Noto+Sans+KR&display=swap" rel="stylesheet">
<link href="<%=request.getContextPath() %>/resources/themify-icons.css" rel="stylesheet">
<link href="<%=request.getContextPath() %>/resources/ie7.css" rel="stylesheet">
<!--[if lt IE 8]><!-->
<!--<![endif]-->
<!--
==============================
** 웹폰트
==============================
-->

<link href="<%=request.getContextPath() %>/resources/transition.css" rel="stylesheet">
<link href="<%=request.getContextPath() %>/resources/layout.css" rel="stylesheet">
<link href="<%=request.getContextPath() %>/resources/eee.css" rel="stylesheet">
<link href="<%=request.getContextPath() %>/resources/side.css" rel="stylesheet">

<link href="<%=request.getContextPath() %>/resources/product_list.css" rel="stylesheet">
<link href="<%=request.getContextPath() %>/resources/detail.css" rel="stylesheet">
<link href="<%=request.getContextPath() %>/resources/jquery.msc.quick.css" rel="stylesheet">

<link href="<%=request.getContextPath() %>/resources/customize_item_display.css" rel="stylesheet">

<script src="<%=request.getContextPath() %>/resources/jquery.msc.common.js.다운로드"></script>
<script src="<%=request.getContextPath() %>/resources/jquery.msc.mscsticker.js.다운로드"></script>
<link href="<%=request.getContextPath() %>/resources/jquery.mCustomScrollbar.css" rel="stylesheet">
<script src="<%=request.getContextPath() %>/resources/jquery.mCustomScrollbar.concat.min.js.다운로드"></script>

<script src="<%=request.getContextPath() %>/resources/jquery.msc.quick_main.js.다운로드"></script>

     
	
	
</head>

<body class="body-goods body-goods-list pc" ondragstart="return false" onselectstart="return false" oncontextmenu="return false">
<div id="wrap">

<div id="content">

<script type="text/javascript">
    $(document).ready(function () {

        $('form[name=frmList] select[name=sort]').change(function() {
            $('form[name=frmList]').get(0).submit();
        });

    });
</script>
<style>
 #wrap > #container{height:0;min-height:0;} 
.contents{padding-bottom:100px;} 
#container{position:static;}
#container #content{margin:0;}
.sub_visual{text-align:center;color:#fff;}
.sub_visual .subv_txt01{text-align:center;color:#fff;font-size:68px;font-family: 'HelveticaNeue-Bold', 'notokrB';letter-spacing:0.5em;}
.sub_visual .subv_txt02{font-size:26px;font-family : "notokrL";letter-spacing:0.2em;}
</style>
</div>
<div class="sub_visual"><div style="height:500px;background:url('<%=request.getContextPath() %>/resources/body_main.jpg') no-repeat 50% 0;">
<p class="subv_txt01" style="padding-top:190px;">BATH</p>
<p class="subv_txt02">당신에게 향기로운 입욕을 선물합니다.</p>
</div></div> <div class="contents">
    <div class="view">

		 <div class="location" style="display:none;">
			<div class="path">
				<h3 class="dn">현재 위치</h3>
				<span>홈</span>
					<div class="navi">
						<div class="this">
							<a href="#">러쉬</a>
							<div>
								<a href="">러쉬</a>
							</div>
						</div>
					</div>
					<div class="navi">
						<div class="this">
							<a href="#">배쓰</a>
							<div>
								<a href="">배쓰</a>
								<a href="">샤워</a>
								<a href="">보디</a>
							</div>
						</div>
					</div>
			</div>
        </div>



        <div class="cg-main">
            


            <!-- 설문조사 배너 --><!-- 설문조사 배너 -->


			<div class="list_hd_bx mt77">		
				<h2></h2> <%-- 순영순영 --%>
				<div class="goods-list">
					<span class="tc">총 (<strong><%=productList1.size() %></strong>)개상품</span> <%--순영순영 --%>
					<form name="frmList" action="">
						<input type="hidden" name="cateCd">
						<fieldset>
							<legend>상품 정렬 폼</legend>
							
							<div class="align">
								<!-- <ul>
									<li>
										<input type="radio" id="sort3" class="radio" name="sort" value="goodsPrice asc,g.regDt desc">
										<label for="sort3">낮은가격순</label>
									</li>
									<li>
										<input type="radio" id="sort4" class="radio" name="sort" value="goodsPrice desc,g.regDt desc">
										<label for="sort4">높은가격순</label>
									</li>
								</ul> -->
								<div class="choice">
									<div>
										<select name="sort" class="tune" style="width: 110px; display: none;"> 
											<option value="Price asc,g.regDt desc">낮은가격순</option>  <%--순영순영 --%>
											<option value="Price desc,g.regDt desc">높은가격순</option> <%--순영순영 --%> 
										</select>
										<div class="chosen-container chosen-container-single chosen-container-single-nosearch" style="width: 0px;" title="">
										<div class="chosen-drop"><div class="chosen-search">
										<input type="text" autocomplete="off" readonly="">
										</div>
										<ul class="chosen-results"></ul>
										</div>
										</div>
										<div class="chosen-container chosen-container-single chosen-container-single-nosearch" style="width: 110px;" title="Price asc,g.regDt desc">
										<select>
    									<option value="0">낮은 가격순</option><%--순영순영 --%>
    									<option value="1">높은 가격순</option><%--순영순영 --%>
		  								</select>
										</div>
									</div> 
								</div>
							</div>
						</fieldset>
					</form>
				</div>
			</div>

 
			<ul class="lower-category"> 
				<li><span class="on"><a href="?cateCd=001001">전체<!-- 배쓰 --></a><em>(<%=productList1.size() %>)</em></span></li>
				<li><span><a href="?maincategory=1">클렌저</a> <em>(<%=subcategory8%>)</em> </span></li>
				<li><span><a href="?cateCd=001001002">핸드 앤 풋</a> <em>(<%=subcategory9%>)</em> </span></li>
				<li><span><a href="?cateCd=001001003">로션</a> <em>(<%=subcategory10%>)</em> </span></li>
			</ul> 
			
            <div class=" ">

<style type="text/css">
	.item-display .list ul.prdList li { padding:0 0;}
	.item-display .list ul.prdList li .space{ display: block; position:relative; padding:0 5px 30px 5px;}
	.item-display .list ul.prdList li .box{ display: block; position:relative;}
	.item-display .list ul.prdList li .thumbnail{ position:relative; }
	.item-display .list ul.prdList li .thumbnail .soldout-img{ display:inline-block; position:absolute; bottom:0; right:0;  }

	.item-display .list ul.prdList li .thumbnail .soldout-img { display:block; position:absolute; top:0; left:0; width:100%; height:100%; background-color: rgba(255, 255, 255, 0.6); background-position:0 0; background-repeat:no-repeat; text-indent:-9999px; }

	.item-display .list ul.prdList li .prdinfo{position:relative;display:block; padding:30px 0 0 0; text-align:center;}
	.item-display .list ul.prdList li .conditions {position:absolute;top:0;left:0;width:100%;  text-align:center; }
	.item-display .list ul.prdList li .hot {vertical-align:top; }
	.item-display .list ul.prdList li .hot img{padding:2px;vertical-align:top; }
	.item-display .list ul.prdList li .soldout-img{vertical-align:top;display:inline-block; font-size:0;width:42px;height:23px;background-repeat:no-repeat ;margin:2px;}
	.item-display .list ul.prdList li .txt { display:block; padding:0 0 0 0; color:#1e1e1e; text-align:center; line-height:20px; }
	.item-display .list ul.prdList li .txt a { display: block; margin: 0; text-decoration:none; }
	.item-display .list ul.prdList li .txt .prdName{ display:block; padding: 0;  color:#333; line-height:22px;font-size:16px; max-height:40px; text-overflow:ellipsis; overflow:hidden;}
	.item-display .list ul.prdList li .txt .shotdesc{ display:block; padding: 0; color:#8f8f8f; line-height:20px;  max-height:20px; font-size:14px; text-overflow:ellipsis; overflow:hidden; }

	.item-display .list ul.prdList li .price { display:block; line-height:30px; margin-top:10px; padding: 0; text-align:center; color:#333;font-size:16px; }
	.item-display .list ul.prdList li .price del { color: #999999; }
	.item-display .list ul.prdList li .price .cost strong {  font-weight:normal; }


	.item-display .list ul.prdList li .dc_rate{display:block; position:absolute; left:5px; top:5px; width:40px; height:40px; background:#bebebe; border-radius:100%; }
	.item-display .list ul.prdList li .dc_rate span{ display:block; width:100%; height:100%; line-height:40px; color:#FFFFFF; font-size:14px; text-align:center;}

	.item-display .list ul.prdList li .box.soldout .thumbnail .prdimg{position:relative;}
	.item-display .list ul.prdList li .box.soldout .thumbnail .prdimg:after{width:100%;height:100%;background: #fff;opacity:0.5;content:'';display:block;position:absolute;top:0;bottom:0;left:0;right:0;  }
	.item-display .list ul.prdList li .box.soldout .conditions .hot{display:none;}

	@media screen and (max-width: 1217px) {
		.item-display .list ul.prdList li .thumbnail .prdimg img{ width:100%;}
	}

</style>
<div class="item-display type-gallery type-gallery_">

    <div class="list">
    <ul class="prdList">
<% for(ProductDTO product:productList1) { %>	
        <li style="width:25%">
            <div class="space">
			<div class="box">
	<div class="thumbnail">
	<span class="prdimg">
			<a href="<%=request.getContextPath()%>/index.jsp?workgroup=rush&work=product_detailpage&name=<%=product.getName() %>">
			<img src="<%=request.getContextPath()%>/admin/product_image/<%=product.getImage() %>" width="280" style="display=inline;">
			</a>
		</span>
	</div>
	<div class="txt">
		<span class="prdName"><%=product.getName() %></span>
	</div>
	<div class="price gd-default">
		<span class="cost">
		<strong><%=DecimalFormat.getCurrencyInstance().format(product.getPrice()) %></strong>
		</span>
	</div>
</div> 
    </div>
        </li>
<% } %>
    </ul>
            </div>
	</div>
</div>


<div id="optionViewLayer" class="layer-wrap dn"></div>

			</div>
            <div class="board-paging02">
                <nav><ul class="pagination pagination-sm"><li class="active"><span>1</span></li></ul></nav>
            </div>
			 
        </div>
    </div>
    <hr>

</div>

<script>
$("form[name=frmList] select[name='sort']").val("");
</script>



</div>
        <!-- 본문 끝 : end -->

<!-- 절대! 지우지마세요 : Start -->
<div class="dn" id="layerDim">&nbsp;</div>
<iframe name="ifrmProcess" src="/blank.php" style="display:none" width="100%" height="0" bgcolor="#000"></iframe>
<!-- 절대! 지우지마세요 : End -->



<!-- 테라스크립트 공통 하단 - 관리자 - 외부스크립트  -->
<!-- 공통 호출 하단 스크립트 : 모든페이지 하단 설치 -->
<!-- PlayD TERA Log Script v1.1 -->
<script>
var _nSA=(function(_g,_c,_s,_p,_d,_i,_h){ 
 if(_i.wgc!=_g){var _ck=(new Image(0,0)).src=_p+'//'+_c+'/?cookie';_i.wgc=_g;_i.wrd=(new Date().getTime());
 var _sc=_d.createElement('script');_sc.src=_p+'//sas.nsm-corp.com/'+_s+'gc='+_g+'&rd='+_i.wrd;
 var _sm=_d.getElementsByTagName('script')[0];_sm.parentNode.insertBefore(_sc, _sm);_i.wgd=_c;} return _i;
})('TR10071603419','ngc1.nsm-corp.com','sa-w.js?',location.protocol,document,window._nSA||{},location.hostname);
</script><noscript><img src="//ngc1.nsm-corp.com/?uid=TR10071603419&je=n&" border=0 width=0 height=0></noscript>
<!-- LogAnalytics Script Install -->





<!-- ACE_Trader_Script : Start -->
<script type="text/javascript" src="//static.tagmanager.toast.com/tag/view/1328"></script>
<script type="text/javascript">
 window.ne_tgm_q = window.ne_tgm_q || [];
 window.ne_tgm_q.push(
 {
 	tagType: 'visit',
 	device:'web'/*web, mobile, tablet*/,
 	uniqValue:'',
 	pageEncoding:'utf-8'
 });
 </script>

<!-- ACE_Trader_Script : End -->

</body></html>